issuer: http://localhost:5556/dex

storage:
  type: memory

web:
  http: 0.0.0.0:5556

telemetry:
  http: 0.0.0.0:5558

# OAuth2 clients
oauth2:
  skipApprovalScreen: true
  responseTypes: ["code", "token", "id_token"]
  grantTypes: ["authorization_code", "refresh_token"]

# Static clients (applications that can authenticate)
staticClients:
  - id: rfd-tool-dev
    secret: rfd-tool-dev-secret
    name: 'RFD Tool Development'
    redirectURIs:
      - 'http://localhost:8877/oidc/callback'
      - 'http://localhost:8000/oidc/callback'
      - 'https://rfd-tool.exe.xyz:8000/oidc/callback'

# Enable password authentication with static users
enablePasswordDB: true

# Static users for development
staticPasswords:
  - email: "alice@acme.com"
    hash: "$2a$10$2b2cU8CPhOTaGrs1HRQuAueS7JTT5ZHsHSzYiFPm1leZck7Mc8T4W"  # password: password
    username: "alice"
    userID: "08a8684b-db88-4b73-90a9-3cd1661f5466"
    groups:
      - "engineering@acme.com"
      - "engineering-leads@acme.com"
  
  - email: "bob@acme.com"
    hash: "$2a$10$2b2cU8CPhOTaGrs1HRQuAueS7JTT5ZHsHSzYiFPm1leZck7Mc8T4W"  # password: password
    username: "bob"
    userID: "41331323-6f44-45e6-b3b9-2c4b8b6ff87c"
    groups:
      - "engineering@acme.com"
  
  - email: "carol@acme.com"
    hash: "$2a$10$2b2cU8CPhOTaGrs1HRQuAueS7JTT5ZHsHSzYiFPm1leZck7Mc8T4W"  # password: password
    username: "carol"
    userID: "c9c5c5d5-5e5e-5e5e-5e5e-5e5e5e5e5e5e"
    groups:
      - "design@acme.com"
  
  - email: "dave@acme.com"
    hash: "$2a$10$2b2cU8CPhOTaGrs1HRQuAueS7JTT5ZHsHSzYiFPm1leZck7Mc8T4W"  # password: password
    username: "dave"
    userID: "d1d1d1d1-d1d1-d1d1-d1d1-d1d1d1d1d1d1"
    groups:
      - "engineering@acme.com"
      - "design@acme.com"

# Expiry configuration
expiry:
  signingKeys: "6h"
  idTokens: "24h"
  authRequests: "24h"
  deviceRequests: "5m"

# Logger
logger:
  level: "debug"
  format: "text"
